$schema: https://json-schema.org/draft/2020-12/schema
type: object
properties:
  Bar2:
    $ref: '#/$defs/Bar2'
  Bar:
    $ref: '#/$defs/Bar'
  requiredAttr:
    type: string
  optionalAttr:
    type: string
required:
  - Bar2
  - requiredAttr
$defs:
  Bar2:
    type: object
    properties:
      att:
        type: string
  Bar:
    type: object
    properties:
      att:
        type: string
